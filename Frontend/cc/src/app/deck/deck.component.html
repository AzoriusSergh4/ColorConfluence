<div class="grid-container">
  <mat-tab-group dynamicHeight>
    <mat-tab label="Deck List" >
      <div fxLayout="row wrap" fxLayoutGap="32px" fxLayoutAlign="flex-start" class="cc-deck-tab">
        <mat-card fxFlex="0 1 calc(50% - 32px)" class="cc-card cc-card-deck mat-elevation-z8">
          <mat-card-header class="cc-card-header">
            <mat-card-title>
              Main
            </mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <table mat-table [dataSource]="mainDatasource" multiTemplateDataRows class="cc-mat-form-field-full ">

              <!-- Quantity Column -->
              <ng-container matColumnDef="quantity">
                <th mat-header-cell *matHeaderCellDef> Qty</th>
                <td mat-cell *matCellDef="let deckCard"> {{deckCard.quantity}} </td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Name</th>
                <td mat-cell *matCellDef="let deckCard"> {{deckCard.card.name}} </td>
              </ng-container>

              <!-- Card Type Column -->
              <ng-container matColumnDef="cardType">
                <th mat-header-cell *matHeaderCellDef> Card Type</th>
                <td mat-cell *matCellDef="let deckCard"> {{deckCard.card.cardType}} </td>
              </ng-container>

              <!-- Mana Cost Column -->
              <ng-container matColumnDef="manaCost">
                <th mat-header-cell *matHeaderCellDef> Mana Cost</th>
                <td mat-cell *matCellDef="let deckCard"> {{deckCard.card.manaCost}} </td>
              </ng-container>

              <ng-container matColumnDef="expandedDetail">
                <td mat-cell *matCellDef="let deckCard" [attr.colspan]="displayedColumns.length">
                  <div class="cc-deck-table-element-detail"
                       [@detailExpand]="deckCard == expandedElement ? 'expanded' : 'collapsed'">
                    <div>
                      <img width="223" height="310" src="{{deckCard.card.cardTranslation[0].cardSet[0].url}}" alt="{{deckCard.card.name}} Image card">
                    </div>
                    <div class="cc-deck-table-element-detail-description">
                      <p>{{deckCard.card.cardTranslation[0].description}}</p>
                    </div>
                  </div>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let deckCard; columns: displayedColumns;"
                  class="cc-deck-table-element-row"
                  [class.cc-deck-table-expanded-row]="expandedElement === deckCard"
                  (click)="expandedElement = expandedElement === deckCard ? null : deckCard">
              </tr>
              <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="cc-deck-table-detail-row"></tr>
            </table>
            <div class="cc-loading" *ngIf="loadingContent">
              <mat-spinner color="primary" *ngIf="loadingContent"></mat-spinner>
            </div>
          </mat-card-content>
        </mat-card>
        <mat-card fxFlex="0 1 calc(50% - 32px)" class="cc-card cc-card-deck mat-elevation-z8">
          <mat-card-header class="cc-card-header">
            <mat-card-title>
              Sideboard
            </mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <table mat-table [dataSource]="sideDatasource" class="cc-mat-form-field-full">
              <!-- Quantity Column -->
              <ng-container matColumnDef="quantity">
                <th mat-header-cell *matHeaderCellDef> Qty</th>
                <td mat-cell *matCellDef="let deckCard"> {{deckCard.quantity}} </td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Name</th>
                <td mat-cell *matCellDef="let deckCard"> {{deckCard.card.name}} </td>
              </ng-container>

              <!-- Card Type Column -->
              <ng-container matColumnDef="cardType">
                <th mat-header-cell *matHeaderCellDef> Card Type</th>
                <td mat-cell *matCellDef="let deckCard"> {{deckCard.card.cardType}} </td>
              </ng-container>

              <!-- Mana Cost Column -->
              <ng-container matColumnDef="manaCost">
                <th mat-header-cell *matHeaderCellDef> Mana Cost</th>
                <td mat-cell *matCellDef="let deckCard"> {{deckCard.card.manaCost}} </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            <div class="cc-loading" *ngIf="loadingContent">
              <mat-spinner color="primary" *ngIf="loadingContent"></mat-spinner>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </mat-tab>
    <mat-tab label="Analytics">
    </mat-tab>
  </mat-tab-group>
</div>
