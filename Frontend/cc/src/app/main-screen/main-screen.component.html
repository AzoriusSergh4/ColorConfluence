<div class="grid-container">

  <div gdAreas="filter filter | card deck" gdGap="16px 0px" gdColumns="50% 50%"
  gdAreas.lt-md="filter | card | deck" gdColumns.lt-md="100% 100% 100%">
    <!-- Filtro de cartas simple con botón de avanzado -->
    <div gdArea="filter" fxLayoutAlign="center center" class="main-grid-element">
      <mat-card class="cc-card cc-card-full cc-card-filter">
        <mat-card-content class="cc-card-content">
          <div class="cc-card-filter-content">
            <h1>ColorConfluence: Where all cards converge</h1>
          </div>
          <div class="cc-card-filter-content">
              <label>
                <input id="card-search-input" (keyup.enter)="onCardSubmit()" class="cc-main-card-filter-input" type="text" placeholder="Search your card here" [formControl]="cardName">
              </label>
          </div>
          <div class="cc-card-filter-content cc-card-filter-text">
            <p>Do you prefer a more personalized search? Use the <span class="cc-link"><a id="search-cards-link" routerLink="cards">advanced search engine</a></span></p>
          </div>
        </mat-card-content>
      </mat-card>
    </div>

    <!-- Most popular cards -->
    <div gdArea="card" class="main-grid-element">
      <mat-card class="cc-card cc-card-main">
        <mat-card-header class="cc-card-header">
          <mat-card-title>
            Most popular cards
          </mat-card-title>
        </mat-card-header>
        <mat-card-content class="cc-card-content">
          <!-- MOCKS TODO Implementar sistema de cartas más buscadas -->
          <mat-list>
            <mat-list-item *ngFor="let card of cards; last as last" (click)="goToCard()" style="cursor: pointer">
              <h3 matLine>
                <span>{{card.name}}</span>
                <span style="float: right;">{{card.colors}}</span>
              </h3>
              <h3 matLine>{{card.collection}}</h3>
              <mat-divider *ngIf="!last"></mat-divider>
            </mat-list-item>
          </mat-list>
        </mat-card-content>
        <mat-card-actions>
          <button mat-raised-button [@tdPulse]="pulseStateCards" (click)="pulseStateCards = !pulseStateCards" color="primary">More Cards</button>
        </mat-card-actions>
      </mat-card>
    </div>
    <!-- Last Decks -->
    <div gdArea="deck" class="main-grid-element">
      <mat-card class="cc-card cc-card-main">
        <mat-card-header class="cc-card-header">
          <mat-card-title>
            Last Decks
          </mat-card-title>
        </mat-card-header>
        <mat-card-content class="cc-card-content">
          <mat-list>
            <mat-list-item *ngFor="let deck of decks; last as last" [routerLink]="['/deck/' + deck.id]" style="cursor: pointer">
              <h3 matLine>
                <span>{{deck.name}} <span *ngIf="deck.format">— {{deck.format.name}}</span></span>
                <span style="float: right;" *ngFor="let color of utilsService.getManaSymbols(deck.colors)"><mat-icon style="vertical-align: middle" svgIcon="{{color}}" aria-hidden="false" aria-label="Mana icon"></mat-icon></span>
              </h3>
              <h3 matLine>
                <span style="font-style: italic">by {{deck.user.username}}</span>
              </h3>
              <mat-divider *ngIf="!last"></mat-divider>
            </mat-list-item>
          </mat-list>
        </mat-card-content>
        <mat-card-actions>
          <button mat-raised-button [@tdPulse]="pulseStateDeck" (click)="goToDecks()" color="primary">More decks</button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>
